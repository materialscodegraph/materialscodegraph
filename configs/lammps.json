{
  "name": "LAMMPS",
  "description": "Molecular dynamics thermal transport calculations",

  "capabilities": [
    "thermal_conductivity"
  ],

  "methods": {
    "thermal_conductivity": "green_kubo"
  },

  "required_parameters": [
    "temperature",
    "supercell"
  ],

  "optional_parameters": [
    "timestep",
    "equilibration_time",
    "production_time"
  ],

  "parameter_types": {
    "temperature": "list[int]",
    "supercell": "list[int,int,int]",
    "timestep": "float",
    "equilibration_time": "int",
    "production_time": "int"
  },

  "produces": [
    "thermal_conductivity_results"
  ],

  "templates": {
    "green_kubo": {
      "needs": ["temperature", "supercell"],
      "script_template": "echo 'Running {property} calculation for {material_id}'; echo 'Parameters: Temperature={temperature}, Supercell={supercell}'; echo '# LAMMPS Green-Kubo thermal conductivity for {material_id}' > input.lammps; echo 'units lj' >> input.lammps; echo 'atom_style atomic' >> input.lammps; echo 'boundary p p p' >> input.lammps; echo 'lattice fcc 0.8' >> input.lammps; echo 'region box block 0 8 0 8 0 8' >> input.lammps; echo 'create_box 1 box' >> input.lammps; echo 'create_atoms 1 box' >> input.lammps; echo 'mass 1 1.0' >> input.lammps; echo 'pair_style lj/cut 2.5' >> input.lammps; echo 'pair_coeff 1 1 1.0 1.0' >> input.lammps; echo 'velocity all create 1.0 12345' >> input.lammps; echo '# Equilibration phase' >> input.lammps; echo 'fix 1 all nvt temp 1.0 1.0 0.1' >> input.lammps; echo 'timestep 0.005' >> input.lammps; echo 'thermo 1000' >> input.lammps; echo 'run 10000' >> input.lammps; echo '# Production phase for heat flux correlation' >> input.lammps; echo 'compute flux all heat/flux' >> input.lammps; echo 'fix 2 all ave/correlate 10 1000 10000 c_flux[1] c_flux[2] c_flux[3] type auto file hfacf.dat' >> input.lammps; echo 'run 50000' >> input.lammps; echo 'print \"Green-Kubo thermal conductivity simulation completed\"' >> input.lammps; $LAMMPS_EXECUTABLE -in input.lammps -log lammps.log; echo 'LAMMPS thermal conductivity simulation completed - check hfacf.dat for results'",
      "outputs": {
        "thermal_conductivity": "kappa.dat"
      }
    }
  },

  "execution": {
    "local": {
      "command": "bash",
      "timeout": 300
    }
  }
}